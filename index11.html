<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
	<form>
		<textarea
			rows="8"
			cols="60"
			id="text"
			name="links"
			onblur="result.innerHTML = getList(links.value)"></textarea>
		<p>
			<output name="result"></output>
		</p>
	</form>
	<script>
		function getList(links) {
			var result = links
				.split(',')
				.map(function(l) {
					l = l.trim().replace(/^http(s)?:\/\//, '');
					return l;
				})
				.sort()
				.join('<br>');

			// var processed = links.split('\n').map(function(processed) {
			// 	return processed.trim().replace(/^http(s):\/\//, '');
			// }).filter(function(processed) {
			// 	return processed;
			// }).sort().join('\n');

			return result;
		}
	</script>
</body>
</html>
